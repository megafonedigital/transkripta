{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Afonso\\\\Desktop\\\\Transkipta\\\\frontend\\\\src\\\\components\\\\Settings.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport { useTheme } from '../context/ThemeContext';\nimport { KeyIcon, TrashIcon, FunnelIcon } from '@heroicons/react/24/outline';\nimport { Box, Typography, TextField, Button, Paper, CircularProgress, Alert, Tabs, Tab, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, IconButton, Tooltip, Select, MenuItem, FormControl, InputLabel } from '@mui/material';\nimport { Save as SaveIcon, Refresh as RefreshIcon, Delete as DeleteIcon, ContentCopy as CopyIcon, FilterList as FilterIcon } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Settings = () => {\n  _s();\n  const [apiKey, setApiKey] = useState('');\n  const [keyStatus, setKeyStatus] = useState({\n    hasCustomKey: false,\n    hasSystemKey: false,\n    isUsingCustomKey: false,\n    useCustomKey: false,\n    message: ''\n  });\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const {\n    token\n  } = useAuth();\n  const {\n    isDarkMode\n  } = useTheme();\n  const {\n    user\n  } = useAuth();\n  const [logs, setLogs] = useState([]);\n  const [filters, setFilters] = useState({\n    level: '',\n    startDate: '',\n    endDate: ''\n  });\n  const [logsLoading, setLogsLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(0);\n  useEffect(() => {\n    fetchApiKeyStatus();\n    fetchLogs();\n  }, []);\n  const fetchApiKeyStatus = async () => {\n    try {\n      const response = await axios.get('http://localhost:3000/settings/api-key', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setKeyStatus(response.data);\n      if (response.data.hasCustomKey) {\n        setApiKey('••••••••••••••••••••••'); // Mask for the key\n      }\n      setLoading(false);\n    } catch (err) {\n      console.error('Error fetching API key:', err);\n      setError('Erro ao carregar configurações');\n      setLoading(false);\n    }\n  };\n  const fetchLogs = async () => {\n    try {\n      setLogsLoading(true);\n      setError(null);\n      const params = {\n        ...filters,\n        limit: 100\n      };\n      const response = await axios.get('http://localhost:3000/logs', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        params\n      });\n      setLogs(response.data);\n    } catch (err) {\n      setError('Erro ao carregar logs');\n      console.error('Error fetching logs:', err);\n    } finally {\n      setLogsLoading(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setSaving(true);\n    setError('');\n    setSuccess('');\n    try {\n      await axios.put('http://localhost:3000/settings/api-key', {\n        apiKey,\n        useCustomKey: keyStatus.useCustomKey\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setSuccess('Configurações salvas com sucesso!');\n      fetchApiKeyStatus(); // Refresh status\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (err) {\n      console.error('Error saving API key:', err);\n      setError('Erro ao salvar configurações');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const handleToggleCustomKey = () => {\n    setKeyStatus(prev => ({\n      ...prev,\n      useCustomKey: !prev.useCustomKey\n    }));\n  };\n  const handleDeleteLogs = async () => {\n    if (!window.confirm('Tem certeza que deseja excluir os logs?')) return;\n    try {\n      setLoading(true);\n      await axios.delete('http://localhost:3000/logs', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        params: {\n          startDate: filters.startDate,\n          endDate: filters.endDate\n        }\n      });\n      await fetchLogs();\n    } catch (err) {\n      setError('Erro ao excluir logs');\n      console.error('Error deleting logs:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getLevelColor = level => {\n    switch (level) {\n      case 'error':\n        return 'text-red-500 dark:text-red-400';\n      case 'warning':\n        return 'text-yellow-500 dark:text-yellow-400';\n      default:\n        return 'text-green-500 dark:text-green-400';\n    }\n  };\n  const handleCopyApiKey = () => {\n    navigator.clipboard.writeText(apiKey);\n    setSuccess('Chave da API copiada!');\n    setTimeout(() => setSuccess(''), 2000);\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString('pt-BR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    });\n  };\n  const handleClearFilters = () => {\n    setFilters({\n      level: '',\n      startDate: '',\n      endDate: ''\n    });\n    fetchLogs();\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Configura\\xE7\\xF5es\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"success\",\n      sx: {\n        mb: 2\n      },\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 3,\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Tabs, {\n        value: activeTab,\n        onChange: (e, newValue) => setActiveTab(newValue),\n        sx: {\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"API\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Logs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), activeTab === 0 && /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Configura\\xE7\\xF5es da API\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 2,\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Chave da API\",\n            value: apiKey,\n            onChange: e => setApiKey(e.target.value),\n            disabled: loading,\n            type: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Copiar chave\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: handleCopyApiKey,\n              disabled: !apiKey,\n              children: /*#__PURE__*/_jsxDEV(CopyIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 26\n          }, this),\n          onClick: handleSubmit,\n          disabled: loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 26\n          }, this) : 'Salvar'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this), activeTab === 1 && /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"Logs do Sistema\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Atualizar logs\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: fetchLogs,\n                disabled: logsLoading,\n                sx: {\n                  mr: 1\n                },\n                children: /*#__PURE__*/_jsxDEV(RefreshIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Limpar logs\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: handleDeleteLogs,\n                disabled: logsLoading || logs.length === 0,\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 2,\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            sx: {\n              minWidth: 120\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"N\\xEDvel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: filters.level,\n              label: \"N\\xEDvel\",\n              onChange: e => setFilters(prev => ({\n                ...prev,\n                level: e.target.value\n              })),\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\",\n                children: \"Todos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"info\",\n                children: \"Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"warning\",\n                children: \"Warning\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"error\",\n                children: \"Error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            type: \"date\",\n            label: \"Data Inicial\",\n            value: filters.startDate,\n            onChange: e => setFilters(prev => ({\n              ...prev,\n              startDate: e.target.value\n            })),\n            InputLabelProps: {\n              shrink: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            type: \"date\",\n            label: \"Data Final\",\n            value: filters.endDate,\n            onChange: e => setFilters(prev => ({\n              ...prev,\n              endDate: e.target.value\n            })),\n            InputLabelProps: {\n              shrink: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            startIcon: /*#__PURE__*/_jsxDEV(FilterIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 28\n            }, this),\n            onClick: handleClearFilters,\n            children: \"Limpar Filtros\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n          component: Paper,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Data\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"N\\xEDvel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Mensagem\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Rota\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: logsLoading ? /*#__PURE__*/_jsxDEV(TableRow, {\n                children: /*#__PURE__*/_jsxDEV(TableCell, {\n                  colSpan: 5,\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 21\n              }, this) : logs.length === 0 ? /*#__PURE__*/_jsxDEV(TableRow, {\n                children: /*#__PURE__*/_jsxDEV(TableCell, {\n                  colSpan: 5,\n                  align: \"center\",\n                  children: \"Nenhum log encontrado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 21\n              }, this) : logs.map(log => /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: formatDate(log.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    color: getLevelColor(log.level),\n                    children: log.level\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: log.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: [log.method, \" \", log.route]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    color: log.statusCode >= 400 ? 'error.main' : 'success.main',\n                    children: log.statusCode\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 25\n                }, this)]\n              }, log.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n};\n_s(Settings, \"xg5RPpPLChmmwUyqAqNl7AyD5Rw=\", false, function () {\n  return [useAuth, useTheme, useAuth];\n});\n_c = Settings;\nexport default Settings;\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","useTheme","KeyIcon","TrashIcon","FunnelIcon","Box","Typography","TextField","Button","Paper","CircularProgress","Alert","Tabs","Tab","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","IconButton","Tooltip","Select","MenuItem","FormControl","InputLabel","Save","SaveIcon","Refresh","RefreshIcon","Delete","DeleteIcon","ContentCopy","CopyIcon","FilterList","FilterIcon","jsxDEV","_jsxDEV","Settings","_s","apiKey","setApiKey","keyStatus","setKeyStatus","hasCustomKey","hasSystemKey","isUsingCustomKey","useCustomKey","message","loading","setLoading","saving","setSaving","error","setError","success","setSuccess","token","isDarkMode","user","logs","setLogs","filters","setFilters","level","startDate","endDate","logsLoading","setLogsLoading","activeTab","setActiveTab","fetchApiKeyStatus","fetchLogs","response","get","headers","Authorization","data","err","console","params","limit","handleSubmit","e","preventDefault","put","setTimeout","handleToggleCustomKey","prev","handleDeleteLogs","window","confirm","delete","getLevelColor","handleCopyApiKey","navigator","clipboard","writeText","formatDate","dateString","Date","toLocaleString","day","month","year","hour","minute","second","handleClearFilters","className","children","fileName","_jsxFileName","lineNumber","columnNumber","sx","p","variant","gutterBottom","severity","mb","value","onChange","newValue","label","display","gap","fullWidth","target","disabled","type","title","onClick","startIcon","size","justifyContent","alignItems","mr","length","minWidth","InputLabelProps","shrink","component","colSpan","align","map","log","createdAt","color","method","route","statusCode","id","_c","$RefreshReg$"],"sources":["C:/Users/Afonso/Desktop/Transkipta/frontend/src/components/Settings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useTheme } from '../context/ThemeContext';\r\nimport { KeyIcon, TrashIcon, FunnelIcon } from '@heroicons/react/24/outline';\r\nimport { \r\n  Box, \r\n  Typography, \r\n  TextField, \r\n  Button, \r\n  Paper, \r\n  CircularProgress,\r\n  Alert,\r\n  Tabs,\r\n  Tab,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  IconButton,\r\n  Tooltip,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel\r\n} from '@mui/material';\r\nimport { \r\n  Save as SaveIcon,\r\n  Refresh as RefreshIcon,\r\n  Delete as DeleteIcon,\r\n  ContentCopy as CopyIcon,\r\n  FilterList as FilterIcon\r\n} from '@mui/icons-material';\r\n\r\nconst Settings = () => {\r\n  const [apiKey, setApiKey] = useState('');\r\n  const [keyStatus, setKeyStatus] = useState({\r\n    hasCustomKey: false,\r\n    hasSystemKey: false,\r\n    isUsingCustomKey: false,\r\n    useCustomKey: false,\r\n    message: ''\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const { token } = useAuth();\r\n  const { isDarkMode } = useTheme();\r\n  const { user } = useAuth();\r\n  const [logs, setLogs] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    level: '',\r\n    startDate: '',\r\n    endDate: ''\r\n  });\r\n  const [logsLoading, setLogsLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(0);\r\n\r\n  useEffect(() => {\r\n    fetchApiKeyStatus();\r\n    fetchLogs();\r\n  }, []);\r\n\r\n  const fetchApiKeyStatus = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:3000/settings/api-key', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setKeyStatus(response.data);\r\n      if (response.data.hasCustomKey) {\r\n        setApiKey('••••••••••••••••••••••'); // Mask for the key\r\n      }\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error('Error fetching API key:', err);\r\n      setError('Erro ao carregar configurações');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchLogs = async () => {\r\n    try {\r\n      setLogsLoading(true);\r\n      setError(null);\r\n      const params = {\r\n        ...filters,\r\n        limit: 100\r\n      };\r\n      const response = await axios.get('http://localhost:3000/logs', {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        params\r\n      });\r\n      setLogs(response.data);\r\n    } catch (err) {\r\n      setError('Erro ao carregar logs');\r\n      console.error('Error fetching logs:', err);\r\n    } finally {\r\n      setLogsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setSaving(true);\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    try {\r\n      await axios.put('http://localhost:3000/settings/api-key', \r\n        { \r\n          apiKey,\r\n          useCustomKey: keyStatus.useCustomKey \r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setSuccess('Configurações salvas com sucesso!');\r\n      fetchApiKeyStatus(); // Refresh status\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (err) {\r\n      console.error('Error saving API key:', err);\r\n      setError('Erro ao salvar configurações');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleCustomKey = () => {\r\n    setKeyStatus(prev => ({\r\n      ...prev,\r\n      useCustomKey: !prev.useCustomKey\r\n    }));\r\n  };\r\n\r\n  const handleDeleteLogs = async () => {\r\n    if (!window.confirm('Tem certeza que deseja excluir os logs?')) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      await axios.delete('http://localhost:3000/logs', {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        params: {\r\n          startDate: filters.startDate,\r\n          endDate: filters.endDate\r\n        }\r\n      });\r\n      await fetchLogs();\r\n    } catch (err) {\r\n      setError('Erro ao excluir logs');\r\n      console.error('Error deleting logs:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getLevelColor = (level) => {\r\n    switch (level) {\r\n      case 'error':\r\n        return 'text-red-500 dark:text-red-400';\r\n      case 'warning':\r\n        return 'text-yellow-500 dark:text-yellow-400';\r\n      default:\r\n        return 'text-green-500 dark:text-green-400';\r\n    }\r\n  };\r\n\r\n  const handleCopyApiKey = () => {\r\n    navigator.clipboard.writeText(apiKey);\r\n    setSuccess('Chave da API copiada!');\r\n    setTimeout(() => setSuccess(''), 2000);\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleString('pt-BR', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n      second: '2-digit'\r\n    });\r\n  };\r\n\r\n  const handleClearFilters = () => {\r\n    setFilters({\r\n      level: '',\r\n      startDate: '',\r\n      endDate: ''\r\n    });\r\n    fetchLogs();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Configurações\r\n      </Typography>\r\n\r\n      {error && (\r\n        <Alert \r\n          severity=\"error\" \r\n          sx={{ mb: 2 }}\r\n        >\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {success && (\r\n        <Alert \r\n          severity=\"success\" \r\n          sx={{ mb: 2 }}\r\n        >\r\n          {success}\r\n        </Alert>\r\n      )}\r\n\r\n      <Paper sx={{ p: 3, mb: 3 }}>\r\n        <Tabs \r\n          value={activeTab} \r\n          onChange={(e, newValue) => setActiveTab(newValue)}\r\n          sx={{ mb: 3 }}\r\n        >\r\n          <Tab label=\"API\" />\r\n          <Tab label=\"Logs\" />\r\n        </Tabs>\r\n\r\n        {activeTab === 0 && (\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Configurações da API\r\n            </Typography>\r\n            <Box sx={{ display: 'flex', gap: 2, mb: 2 }}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Chave da API\"\r\n                value={apiKey}\r\n                onChange={(e) => setApiKey(e.target.value)}\r\n                disabled={loading}\r\n                type=\"password\"\r\n              />\r\n              <Tooltip title=\"Copiar chave\">\r\n                <IconButton \r\n                  onClick={handleCopyApiKey}\r\n                  disabled={!apiKey}\r\n                >\r\n                  <CopyIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Box>\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<SaveIcon />}\r\n              onClick={handleSubmit}\r\n              disabled={loading}\r\n            >\r\n              {loading ? <CircularProgress size={24} /> : 'Salvar'}\r\n            </Button>\r\n          </Box>\r\n        )}\r\n\r\n        {activeTab === 1 && (\r\n          <Box>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n              <Typography variant=\"h6\">\r\n                Logs do Sistema\r\n              </Typography>\r\n              <Box>\r\n                <Tooltip title=\"Atualizar logs\">\r\n                  <IconButton \r\n                    onClick={fetchLogs}\r\n                    disabled={logsLoading}\r\n                    sx={{ mr: 1 }}\r\n                  >\r\n                    <RefreshIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"Limpar logs\">\r\n                  <IconButton \r\n                    onClick={handleDeleteLogs}\r\n                    disabled={logsLoading || logs.length === 0}\r\n                  >\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box sx={{ display: 'flex', gap: 2, mb: 3 }}>\r\n              <FormControl sx={{ minWidth: 120 }}>\r\n                <InputLabel>Nível</InputLabel>\r\n                <Select\r\n                  value={filters.level}\r\n                  label=\"Nível\"\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, level: e.target.value }))}\r\n                >\r\n                  <MenuItem value=\"\">Todos</MenuItem>\r\n                  <MenuItem value=\"info\">Info</MenuItem>\r\n                  <MenuItem value=\"warning\">Warning</MenuItem>\r\n                  <MenuItem value=\"error\">Error</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n              <TextField\r\n                type=\"date\"\r\n                label=\"Data Inicial\"\r\n                value={filters.startDate}\r\n                onChange={(e) => setFilters(prev => ({ ...prev, startDate: e.target.value }))}\r\n                InputLabelProps={{ shrink: true }}\r\n              />\r\n              <TextField\r\n                type=\"date\"\r\n                label=\"Data Final\"\r\n                value={filters.endDate}\r\n                onChange={(e) => setFilters(prev => ({ ...prev, endDate: e.target.value }))}\r\n                InputLabelProps={{ shrink: true }}\r\n              />\r\n              <Button\r\n                variant=\"outlined\"\r\n                startIcon={<FilterIcon />}\r\n                onClick={handleClearFilters}\r\n              >\r\n                Limpar Filtros\r\n              </Button>\r\n            </Box>\r\n\r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Data</TableCell>\r\n                    <TableCell>Nível</TableCell>\r\n                    <TableCell>Mensagem</TableCell>\r\n                    <TableCell>Rota</TableCell>\r\n                    <TableCell>Status</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {logsLoading ? (\r\n                    <TableRow>\r\n                      <TableCell colSpan={5} align=\"center\">\r\n                        <CircularProgress />\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ) : logs.length === 0 ? (\r\n                    <TableRow>\r\n                      <TableCell colSpan={5} align=\"center\">\r\n                        Nenhum log encontrado\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ) : (\r\n                    logs.map((log) => (\r\n                      <TableRow key={log.id}>\r\n                        <TableCell>{formatDate(log.createdAt)}</TableCell>\r\n                        <TableCell>\r\n                          <Typography color={getLevelColor(log.level)}>\r\n                            {log.level}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>{log.message}</TableCell>\r\n                        <TableCell>{log.method} {log.route}</TableCell>\r\n                        <TableCell>\r\n                          <Typography color={log.statusCode >= 400 ? 'error.main' : 'success.main'}>\r\n                            {log.statusCode}\r\n                          </Typography>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))\r\n                  )}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          </Box>\r\n        )}\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Settings; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}