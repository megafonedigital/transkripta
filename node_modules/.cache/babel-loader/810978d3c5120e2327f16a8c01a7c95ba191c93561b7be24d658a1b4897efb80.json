{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../context/AuthContext';import{useTheme}from'../context/ThemeContext';import{processVideoUrl,downloadFromUrl,validateVideoUrl,convertToAudio,processTunnelUrl,handleApiError}from'../services/apiService';import replicateService from'../services/replicateService';import config from'../config/env';import{saveTranscription,updateMetrics,addLog}from'../services/storageService';import{DocumentDuplicateIcon,ArrowPathIcon,CheckCircleIcon,XCircleIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const sourceTypes=[{id:'social',name:'Redes Sociais',icon:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z\"})}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z\"})}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z\"})})]}),placeholder:'Cole o link do vídeo (YouTube, Instagram ou TikTok)',color:'text-indigo-600 dark:text-indigo-500',bgColor:'bg-indigo-50 dark:bg-indigo-900/20',borderColor:'border-indigo-200 dark:border-indigo-800'},{id:'file',name:'Arquivo',icon:/*#__PURE__*/_jsx(DocumentDuplicateIcon,{className:\"w-8 h-8\"}),placeholder:'Selecione um arquivo de vídeo ou áudio',color:'text-green-600 dark:text-green-500',bgColor:'bg-green-50 dark:bg-green-900/20',borderColor:'border-green-200 dark:border-green-800'}];const NewTranscription=()=>{var _sourceTypes$find;const[url,setUrl]=useState('');const[title,setTitle]=useState('');const[type,setType]=useState('social');const[file,setFile]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[result,setResult]=useState(null);const[progress,setProgress]=useState(0);const[status,setStatus]=useState('');const[outputFormat,setOutputFormat]=useState('plain');const[transcriptionService,setTranscriptionService]=useState('replicate');const{token}=useAuth();const{isDarkMode}=useTheme();const updateProgressStatus=(type,stage)=>{const progressStages={social:{start:{progress:0,status:'Preparando...'},download:{progress:20,status:'Baixando vídeo das redes sociais...'},convert:{progress:50,status:'Convertendo vídeo para áudio...'},transcribe:{progress:70,status:'Transcrevendo áudio...'},complete:{progress:100,status:'Concluído!'}},video:{start:{progress:0,status:'Preparando...'},upload:{progress:20,status:'Enviando vídeo...'},convert:{progress:50,status:'Convertendo vídeo para áudio...'},transcribe:{progress:70,status:'Transcrevendo áudio...'},complete:{progress:100,status:'Concluído!'}},audio:{start:{progress:0,status:'Preparando...'},upload:{progress:20,status:'Enviando áudio...'},transcribe:{progress:50,status:'Transcrevendo áudio...'},complete:{progress:100,status:'Concluído!'}}};// Verificação de segurança para evitar erros de runtime\nif(!progressStages[type]){console.warn(`Tipo de progresso não encontrado: ${type}. Usando configuração padrão.`);setProgress(0);setStatus('Preparando...');return;}if(!progressStages[type][stage]){console.warn(`Estágio de progresso não encontrado: ${stage} para tipo ${type}. Usando configuração padrão.`);setProgress(0);setStatus('Processando...');return;}const stageInfo=progressStages[type][stage];setProgress(stageInfo.progress);setStatus(stageInfo.status);};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setResult(null);console.log('Submitting form with outputFormat:',outputFormat);updateProgressStatus(type,'start');try{let audioFile;let videoBlob;const startTime=Date.now();// Step 1: Get audio file\nlet videoData=null;if(type==='social'){// Validate URL\nconst platform=validateVideoUrl(url);if(!platform){throw new Error('URL inválida ou plataforma não suportada');}updateProgressStatus(type,'download');// Process video URL via webhook\nvideoData=await processVideoUrl(url,{audioOnly:true});updateProgressStatus(type,'convert');// Process tunnel URL or download audio file from webhook response\nif((videoData.status==='tunnel'||videoData.status==='redirect')&&videoData.tunnelUrl){// Use tunnel URL directly for transcription\nconst audioBlob=await processTunnelUrl(videoData.tunnelUrl);audioFile=new File([audioBlob],videoData.filename||`audio_${Date.now()}.mp3`,{type:'audio/mpeg'});}else if(videoData.audioUrl){// Fallback para estrutura antiga\nconst audioBlob=await downloadFromUrl(videoData.audioUrl);audioFile=new File([audioBlob],`audio_${Date.now()}.mp3`,{type:'audio/mpeg'});}else{throw new Error('URL de áudio não disponível');}}else if(type==='file'){updateProgressStatus(type,'upload');// Check if file is video or audio and process accordingly\nconst fileType=file.type;if(fileType.startsWith('video/')){// Convert video file to audio\nupdateProgressStatus(type,'convert');audioFile=await convertToAudio(file);}else if(fileType.startsWith('audio/')){// Use audio file directly\naudioFile=file;}else{throw new Error('Tipo de arquivo não suportado. Use apenas arquivos de vídeo ou áudio.');}}// Step 2: Transcribe audio\nupdateProgressStatus(type,'transcribe');// Use Replicate Whisper for all transcriptions\nif(!replicateService.isConfigured()){throw new Error('Serviço Replicate não configurado. Verifique as variáveis de ambiente.');}// Upload audio file to a temporary URL (you'll need to implement this)\n// For now, we'll assume the audio is already accessible via URL\nlet audioUrl;if(type==='social'&&(videoData.status==='tunnel'||videoData.status==='redirect')&&videoData.tunnelUrl){// Use tunnel URL directly\naudioUrl=videoData.tunnelUrl;}else if(type==='social'&&videoData.audioUrl){// Use webhook audio URL\naudioUrl=videoData.audioUrl;}else{// For file uploads, we need to upload to a temporary service\n// This is a placeholder - you'll need to implement file upload\nthrow new Error('Upload de arquivos locais para Replicate ainda não implementado. Use URLs de redes sociais.');}const replicateOptions={language:'pt',translate:false,transcription:outputFormat==='plain'?'plain text':outputFormat};// Create async transcription\nconst prediction=await replicateService.createTranscription(audioUrl,replicateOptions);// For async processing, we'll return a different result\nconst transcriptionResult={text:'Transcrição iniciada com sucesso! O processamento está sendo feito de forma assíncrona.',predictionId:prediction.id,status:'processing',isAsync:true,language:'pt'};// Step 3: Save transcription\nconst duration=Math.round((Date.now()-startTime)/1000);const transcriptionData={title:title,content:transcriptionResult.text,type:type,platform:type==='youtube'||type==='instagram'||type==='tiktok'?type:'file',url:url||null,fileName:(file===null||file===void 0?void 0:file.name)||null,outputFormat:outputFormat,duration:duration,language:transcriptionResult.language||'pt',wordCount:transcriptionResult.isAsync?0:transcriptionResult.text.split(' ').length,status:transcriptionResult.isAsync?'processing':'completed',predictionId:transcriptionResult.predictionId||null,service:'replicate'};const savedTranscription=saveTranscription(transcriptionData);// Update metrics\nupdateMetrics({type:'transcription',duration:duration});// Add log\naddLog({level:'info',message:`Transcrição criada: ${title}`,details:{transcriptionId:savedTranscription.id,type:type,duration:duration}});updateProgressStatus(type,'complete');setResult({...savedTranscription,content:transcriptionResult.text});console.log('Transcription completed:',savedTranscription);// Reset form\nsetUrl('');setTitle('');setFile(null);}catch(err){console.error('Error:',err);const errorMessage=handleApiError(err);setError(errorMessage);// Log error\naddLog({level:'error',message:'Erro na transcrição',details:{error:err.message,type:type,title:title}});// Update error metrics\nupdateMetrics({type:'error'});}finally{setLoading(false);setTimeout(()=>{setProgress(0);setStatus('');},2000);}};const copyToClipboard=()=>{navigator.clipboard.writeText(result.content);};const handleFileChange=e=>{var _e$target$files;const selectedFile=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(selectedFile){setFile(selectedFile);}};const handleTypeChange=e=>{setType(e.target.value);setFile(null);setUrl('');};return/*#__PURE__*/_jsx(\"div\",{className:\"p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mb-2\",children:\"Nova Transcri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400 mb-8\",children:\"Transforme \\xE1udio em texto com facilidade. Suporte para v\\xEDdeos do YouTube, Instagram, TikTok e arquivos locais.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-xl\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"T\\xEDtulo da Transcri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",value:title,onChange:e=>setTitle(e.target.value),className:\"mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:text-white px-4 py-3 transition duration-150 ease-in-out\",placeholder:\"Digite um t\\xEDtulo para a transcri\\xE7\\xE3o\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-xl\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"outputFormat\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Formato de Sa\\xEDda\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"outputFormat\",value:outputFormat,onChange:e=>setOutputFormat(e.target.value),className:\"mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:text-white px-4 py-3 transition duration-150 ease-in-out\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"plain\",children:\"Texto Simples\"}),/*#__PURE__*/_jsx(\"option\",{value:\"srt\",children:\"SRT (Legendas)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vtt\",children:\"VTT (Web Video Text Tracks)\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-xl\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4\",children:\"Tipo de Conte\\xFAdo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4\",children:sourceTypes.map(source=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>{setType(source.id);setFile(null);setUrl('');},className:`relative flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all duration-200 hover:scale-105 ${type===source.id?`${source.borderColor} ${source.color} ${source.bgColor} shadow-md`:'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:`${type===source.id?source.color:'text-gray-400 dark:text-gray-500'}`,children:source.icon}),/*#__PURE__*/_jsx(\"span\",{className:`mt-2 text-sm font-medium ${type===source.id?source.color:'text-gray-900 dark:text-white'}`,children:source.name})]},source.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-xl\",children:type==='social'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"url\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"URL ou Link\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"url\",value:url,onChange:e=>setUrl(e.target.value),className:\"mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:text-white px-4 py-3 transition duration-150 ease-in-out\",placeholder:(_sourceTypes$find=sourceTypes.find(s=>s.id===type))===null||_sourceTypes$find===void 0?void 0:_sourceTypes$find.placeholder,required:true})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Selecione um arquivo de v\\xEDdeo ou \\xE1udio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",onChange:handleFileChange,accept:\"video/*,audio/*\",className:\"mt-1 block w-full text-sm text-gray-500 dark:text-gray-400\\r file:mr-4 file:py-3 file:px-4\\r file:rounded-lg file:border-0\\r file:text-sm file:font-semibold\\r file:bg-indigo-50 file:text-indigo-700\\r hover:file:bg-indigo-100\\r dark:file:bg-indigo-900 dark:file:text-indigo-200\\r dark:hover:file:bg-indigo-800\\r transition duration-150 ease-in-out\",required:true})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"animate-spin h-5 w-5 mr-2\"}),\"Processando...\"]}):'Transcrever'}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-red-500 text-sm bg-red-50 dark:bg-red-900/20 p-4 rounded-xl\",children:[/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:error})]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-indigo-700 dark:text-indigo-200\",children:status}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-indigo-700 dark:text-indigo-200\",children:[progress,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-indigo-200 dark:bg-indigo-700 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-indigo-600 h-2 rounded-full transition-all duration-300 ease-in-out\",style:{width:`${progress}%`}})})]}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-white dark:bg-gray-900/50 shadow-lg rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-medium text-gray-900 dark:text-white flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-6 w-6 text-green-500 mr-2\"}),result.title]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 dark:text-gray-400\",children:\"Transcri\\xE7\\xE3o conclu\\xEDda com sucesso\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:copyToClipboard,className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-indigo-700 dark:text-indigo-200 bg-indigo-100 dark:bg-indigo-900 hover:bg-indigo-200 dark:hover:bg-indigo-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out\",children:[/*#__PURE__*/_jsx(DocumentDuplicateIcon,{className:\"h-4 w-4 mr-2\"}),\"Copiar\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-indigo max-w-none max-h-96 overflow-y-auto dark:prose-invert bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap text-gray-900 dark:text-gray-100 text-sm\",children:result.content})})]})]})]})})});};export default NewTranscription;","map":{"version":3,"names":["React","useState","useAuth","useTheme","processVideoUrl","downloadFromUrl","validateVideoUrl","convertToAudio","processTunnelUrl","handleApiError","replicateService","config","saveTranscription","updateMetrics","addLog","DocumentDuplicateIcon","ArrowPathIcon","CheckCircleIcon","XCircleIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","sourceTypes","id","name","icon","className","children","viewBox","fill","d","placeholder","color","bgColor","borderColor","NewTranscription","_sourceTypes$find","url","setUrl","title","setTitle","type","setType","file","setFile","loading","setLoading","error","setError","result","setResult","progress","setProgress","status","setStatus","outputFormat","setOutputFormat","transcriptionService","setTranscriptionService","token","isDarkMode","updateProgressStatus","stage","progressStages","social","start","download","convert","transcribe","complete","video","upload","audio","console","warn","stageInfo","handleSubmit","e","preventDefault","log","audioFile","videoBlob","startTime","Date","now","videoData","platform","Error","audioOnly","tunnelUrl","audioBlob","File","filename","audioUrl","fileType","startsWith","isConfigured","replicateOptions","language","translate","transcription","prediction","createTranscription","transcriptionResult","text","predictionId","isAsync","duration","Math","round","transcriptionData","content","fileName","wordCount","split","length","service","savedTranscription","level","message","details","transcriptionId","err","errorMessage","setTimeout","copyToClipboard","navigator","clipboard","writeText","handleFileChange","_e$target$files","selectedFile","target","files","handleTypeChange","value","onSubmit","htmlFor","onChange","required","map","source","onClick","find","s","accept","disabled","style","width"],"sources":["C:/Users/Afonso/Desktop/Transkipta/src/components/NewTranscription.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useTheme } from '../context/ThemeContext';\r\nimport { processVideoUrl, downloadFromUrl, validateVideoUrl, convertToAudio, processTunnelUrl, handleApiError } from '../services/apiService';\r\nimport replicateService from '../services/replicateService';\r\nimport config from '../config/env';\r\nimport { saveTranscription, updateMetrics, addLog } from '../services/storageService';\r\nimport { \r\n  DocumentDuplicateIcon,\r\n  ArrowPathIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nconst sourceTypes = [\r\n  { \r\n    id: 'social', \r\n    name: 'Redes Sociais',\r\n    icon: (\r\n      <div className=\"flex space-x-1\">\r\n        <svg className=\"w-6 h-6\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n          <path d=\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z\"/>\r\n        </svg>\r\n        <svg className=\"w-6 h-6\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n          <path d=\"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z\"/>\r\n        </svg>\r\n        <svg className=\"w-6 h-6\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n          <path d=\"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z\"/>\r\n        </svg>\r\n      </div>\r\n    ),\r\n    placeholder: 'Cole o link do vídeo (YouTube, Instagram ou TikTok)',\r\n    color: 'text-indigo-600 dark:text-indigo-500',\r\n    bgColor: 'bg-indigo-50 dark:bg-indigo-900/20',\r\n    borderColor: 'border-indigo-200 dark:border-indigo-800'\r\n  },\r\n  { \r\n    id: 'file', \r\n    name: 'Arquivo',\r\n    icon: <DocumentDuplicateIcon className=\"w-8 h-8\" />,\r\n    placeholder: 'Selecione um arquivo de vídeo ou áudio',\r\n    color: 'text-green-600 dark:text-green-500',\r\n    bgColor: 'bg-green-50 dark:bg-green-900/20',\r\n    borderColor: 'border-green-200 dark:border-green-800'\r\n  }\r\n];\r\n\r\nconst NewTranscription = () => {\r\n  const [url, setUrl] = useState('');\r\n  const [title, setTitle] = useState('');\r\n  const [type, setType] = useState('social');\r\n  const [file, setFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [result, setResult] = useState(null);\r\n  const [progress, setProgress] = useState(0);\r\n  const [status, setStatus] = useState('');\r\n  const [outputFormat, setOutputFormat] = useState('plain');\r\n  const [transcriptionService, setTranscriptionService] = useState('replicate');\r\n  const { token } = useAuth();\r\n  const { isDarkMode } = useTheme();\r\n\r\n  const updateProgressStatus = (type, stage) => {\r\n    const progressStages = {\r\n      social: {\r\n        start: { progress: 0, status: 'Preparando...' },\r\n        download: { progress: 20, status: 'Baixando vídeo das redes sociais...' },\r\n        convert: { progress: 50, status: 'Convertendo vídeo para áudio...' },\r\n        transcribe: { progress: 70, status: 'Transcrevendo áudio...' },\r\n        complete: { progress: 100, status: 'Concluído!' }\r\n      },\r\n      video: {\r\n        start: { progress: 0, status: 'Preparando...' },\r\n        upload: { progress: 20, status: 'Enviando vídeo...' },\r\n        convert: { progress: 50, status: 'Convertendo vídeo para áudio...' },\r\n        transcribe: { progress: 70, status: 'Transcrevendo áudio...' },\r\n        complete: { progress: 100, status: 'Concluído!' }\r\n      },\r\n      audio: {\r\n        start: { progress: 0, status: 'Preparando...' },\r\n        upload: { progress: 20, status: 'Enviando áudio...' },\r\n        transcribe: { progress: 50, status: 'Transcrevendo áudio...' },\r\n        complete: { progress: 100, status: 'Concluído!' }\r\n      }\r\n    };\r\n\r\n    // Verificação de segurança para evitar erros de runtime\r\n    if (!progressStages[type]) {\r\n      console.warn(`Tipo de progresso não encontrado: ${type}. Usando configuração padrão.`);\r\n      setProgress(0);\r\n      setStatus('Preparando...');\r\n      return;\r\n    }\r\n\r\n    if (!progressStages[type][stage]) {\r\n      console.warn(`Estágio de progresso não encontrado: ${stage} para tipo ${type}. Usando configuração padrão.`);\r\n      setProgress(0);\r\n      setStatus('Processando...');\r\n      return;\r\n    }\r\n\r\n    const stageInfo = progressStages[type][stage];\r\n     setProgress(stageInfo.progress);\r\n     setStatus(stageInfo.status);\r\n   };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    setResult(null);\r\n    \r\n    console.log('Submitting form with outputFormat:', outputFormat);\r\n    updateProgressStatus(type, 'start');\r\n\r\n    try {\r\n      let audioFile;\r\n      let videoBlob;\r\n      const startTime = Date.now();\r\n\r\n      // Step 1: Get audio file\r\n      let videoData = null;\r\n      \r\n      if (type === 'social') {\r\n        // Validate URL\r\n        const platform = validateVideoUrl(url);\r\n        if (!platform) {\r\n          throw new Error('URL inválida ou plataforma não suportada');\r\n        }\r\n\r\n        updateProgressStatus(type, 'download');\r\n        \r\n        // Process video URL via webhook\r\n        videoData = await processVideoUrl(url, { audioOnly: true });\r\n        \r\n        updateProgressStatus(type, 'convert');\r\n        \r\n        // Process tunnel URL or download audio file from webhook response\r\n        if ((videoData.status === 'tunnel' || videoData.status === 'redirect') && videoData.tunnelUrl) {\r\n          // Use tunnel URL directly for transcription\r\n          const audioBlob = await processTunnelUrl(videoData.tunnelUrl);\r\n          audioFile = new File([audioBlob], videoData.filename || `audio_${Date.now()}.mp3`, { type: 'audio/mpeg' });\r\n        } else if (videoData.audioUrl) {\r\n          // Fallback para estrutura antiga\r\n          const audioBlob = await downloadFromUrl(videoData.audioUrl);\r\n          audioFile = new File([audioBlob], `audio_${Date.now()}.mp3`, { type: 'audio/mpeg' });\r\n        } else {\r\n          throw new Error('URL de áudio não disponível');\r\n        }\r\n        \r\n      } else if (type === 'file') {\r\n        updateProgressStatus(type, 'upload');\r\n        \r\n        // Check if file is video or audio and process accordingly\r\n        const fileType = file.type;\r\n        if (fileType.startsWith('video/')) {\r\n          // Convert video file to audio\r\n          updateProgressStatus(type, 'convert');\r\n          audioFile = await convertToAudio(file);\r\n        } else if (fileType.startsWith('audio/')) {\r\n          // Use audio file directly\r\n          audioFile = file;\r\n        } else {\r\n          throw new Error('Tipo de arquivo não suportado. Use apenas arquivos de vídeo ou áudio.');\r\n        }\r\n      }\r\n\r\n      // Step 2: Transcribe audio\r\n      updateProgressStatus(type, 'transcribe');\r\n      \r\n      // Use Replicate Whisper for all transcriptions\r\n      if (!replicateService.isConfigured()) {\r\n        throw new Error('Serviço Replicate não configurado. Verifique as variáveis de ambiente.');\r\n      }\r\n      \r\n      // Upload audio file to a temporary URL (you'll need to implement this)\r\n      // For now, we'll assume the audio is already accessible via URL\r\n      let audioUrl;\r\n      \r\n      if (type === 'social' && ((videoData.status === 'tunnel' || videoData.status === 'redirect') && videoData.tunnelUrl)) {\r\n        // Use tunnel URL directly\r\n        audioUrl = videoData.tunnelUrl;\r\n      } else if (type === 'social' && videoData.audioUrl) {\r\n        // Use webhook audio URL\r\n        audioUrl = videoData.audioUrl;\r\n      } else {\r\n        // For file uploads, we need to upload to a temporary service\r\n        // This is a placeholder - you'll need to implement file upload\r\n        throw new Error('Upload de arquivos locais para Replicate ainda não implementado. Use URLs de redes sociais.');\r\n      }\r\n      \r\n      const replicateOptions = {\r\n        language: 'pt',\r\n        translate: false,\r\n        transcription: outputFormat === 'plain' ? 'plain text' : outputFormat\r\n      };\r\n      \r\n      // Create async transcription\r\n      const prediction = await replicateService.createTranscription(audioUrl, replicateOptions);\r\n      \r\n      // For async processing, we'll return a different result\r\n      const transcriptionResult = {\r\n        text: 'Transcrição iniciada com sucesso! O processamento está sendo feito de forma assíncrona.',\r\n        predictionId: prediction.id,\r\n        status: 'processing',\r\n        isAsync: true,\r\n        language: 'pt'\r\n      };\r\n      \r\n      // Step 3: Save transcription\r\n      const duration = Math.round((Date.now() - startTime) / 1000);\r\n      \r\n      const transcriptionData = {\r\n        title: title,\r\n        content: transcriptionResult.text,\r\n        type: type,\r\n        platform: type === 'youtube' || type === 'instagram' || type === 'tiktok' ? type : 'file',\r\n        url: url || null,\r\n        fileName: file?.name || null,\r\n        outputFormat: outputFormat,\r\n        duration: duration,\r\n        language: transcriptionResult.language || 'pt',\r\n        wordCount: transcriptionResult.isAsync ? 0 : transcriptionResult.text.split(' ').length,\r\n        status: transcriptionResult.isAsync ? 'processing' : 'completed',\r\n        predictionId: transcriptionResult.predictionId || null,\r\n        service: 'replicate'\r\n      };\r\n\r\n      const savedTranscription = saveTranscription(transcriptionData);\r\n      \r\n      // Update metrics\r\n      updateMetrics({\r\n        type: 'transcription',\r\n        duration: duration\r\n      });\r\n      \r\n      // Add log\r\n      addLog({\r\n        level: 'info',\r\n        message: `Transcrição criada: ${title}`,\r\n        details: {\r\n          transcriptionId: savedTranscription.id,\r\n          type: type,\r\n          duration: duration\r\n        }\r\n      });\r\n\r\n      updateProgressStatus(type, 'complete');\r\n      \r\n      setResult({\r\n        ...savedTranscription,\r\n        content: transcriptionResult.text\r\n      });\r\n      \r\n      console.log('Transcription completed:', savedTranscription);\r\n      \r\n      // Reset form\r\n      setUrl('');\r\n      setTitle('');\r\n      setFile(null);\r\n      \r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n      const errorMessage = handleApiError(err);\r\n      setError(errorMessage);\r\n      \r\n      // Log error\r\n      addLog({\r\n        level: 'error',\r\n        message: 'Erro na transcrição',\r\n        details: {\r\n          error: err.message,\r\n          type: type,\r\n          title: title\r\n        }\r\n      });\r\n      \r\n      // Update error metrics\r\n      updateMetrics({\r\n        type: 'error'\r\n      });\r\n      \r\n    } finally {\r\n      setLoading(false);\r\n      setTimeout(() => {\r\n        setProgress(0);\r\n        setStatus('');\r\n      }, 2000);\r\n    }\r\n  };\r\n\r\n  const copyToClipboard = () => {\r\n    navigator.clipboard.writeText(result.content);\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const selectedFile = e.target.files?.[0];\r\n    if (selectedFile) {\r\n      setFile(selectedFile);\r\n    }\r\n  };\r\n\r\n  const handleTypeChange = (e) => {\r\n    setType(e.target.value);\r\n    setFile(null);\r\n    setUrl('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden w-full\">\r\n        <div className=\"p-8\">\r\n          <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">Nova Transcrição</h2>\r\n          <p className=\"text-gray-500 dark:text-gray-400 mb-8\">\r\n            Transforme áudio em texto com facilidade. Suporte para vídeos do YouTube, Instagram, TikTok e arquivos locais.\r\n          </p>\r\n          <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n            {/* Título e Formato de Saída */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-2\">\r\n              <div className=\"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-xl\">\r\n                <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Título da Transcrição\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"title\"\r\n                  value={title}\r\n                  onChange={(e) => setTitle(e.target.value)}\r\n                  className=\"mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:text-white px-4 py-3 transition duration-150 ease-in-out\"\r\n                  placeholder=\"Digite um título para a transcrição\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-xl\">\r\n                <label htmlFor=\"outputFormat\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Formato de Saída\r\n                </label>\r\n                <select\r\n                  id=\"outputFormat\"\r\n                  value={outputFormat}\r\n                  onChange={(e) => setOutputFormat(e.target.value)}\r\n                  className=\"mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:text-white px-4 py-3 transition duration-150 ease-in-out\"\r\n                >\r\n                  <option value=\"plain\">Texto Simples</option>\r\n                  <option value=\"srt\">SRT (Legendas)</option>\r\n                  <option value=\"vtt\">VTT (Web Video Text Tracks)</option>\r\n                </select>\r\n              </div>\r\n\r\n            </div>\r\n            {/* Tipo de Conteúdo em linha */}\r\n            <div className=\"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-xl\">\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4\">\r\n                Tipo de Conteúdo\r\n              </label>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4\">\r\n                {sourceTypes.map((source) => (\r\n                  <button\r\n                    key={source.id}\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setType(source.id);\r\n                      setFile(null);\r\n                      setUrl('');\r\n                    }}\r\n                    className={`relative flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all duration-200 hover:scale-105 ${\r\n                      type === source.id \r\n                        ? `${source.borderColor} ${source.color} ${source.bgColor} shadow-md`\r\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\r\n                    }`}\r\n                  >\r\n                    <div className={`${type === source.id ? source.color : 'text-gray-400 dark:text-gray-500'}`}>{source.icon}</div>\r\n                    <span className={`mt-2 text-sm font-medium ${type === source.id ? source.color : 'text-gray-900 dark:text-white'}`}>{source.name}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            {/* URL ou Upload de Arquivo ocupando toda a largura */}\r\n            <div className=\"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-xl\">\r\n              {(type === 'social') ? (\r\n                <div>\r\n                  <label htmlFor=\"url\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    URL ou Link\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"url\"\r\n                    value={url}\r\n                    onChange={(e) => setUrl(e.target.value)}\r\n                    className=\"mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:text-white px-4 py-3 transition duration-150 ease-in-out\"\r\n                    placeholder={sourceTypes.find(s => s.id === type)?.placeholder}\r\n                    required\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <label htmlFor=\"file\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Selecione um arquivo de vídeo ou áudio\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"file\"\r\n                    onChange={handleFileChange}\r\n                    accept=\"video/*,audio/*\"\r\n                    className=\"mt-1 block w-full text-sm text-gray-500 dark:text-gray-400\r\n                      file:mr-4 file:py-3 file:px-4\r\n                      file:rounded-lg file:border-0\r\n                      file:text-sm file:font-semibold\r\n                      file:bg-indigo-50 file:text-indigo-700\r\n                      hover:file:bg-indigo-100\r\n                      dark:file:bg-indigo-900 dark:file:text-indigo-200\r\n                      dark:hover:file:bg-indigo-800\r\n                      transition duration-150 ease-in-out\"\r\n                    required\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n            {/* Botão de enviar */}\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <ArrowPathIcon className=\"animate-spin h-5 w-5 mr-2\" />\r\n                  Processando...\r\n                </>\r\n              ) : (\r\n                'Transcrever'\r\n              )}\r\n            </button>\r\n            {/* Status/Progresso */}\r\n            {error && (\r\n              <div className=\"flex items-center space-x-2 text-red-500 text-sm bg-red-50 dark:bg-red-900/20 p-4 rounded-xl\">\r\n                <XCircleIcon className=\"h-5 w-5\" />\r\n                <span>{error}</span>\r\n              </div>\r\n            )}\r\n            {loading && (\r\n              <div className=\"space-y-4 bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-xl\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <span className=\"text-sm text-indigo-700 dark:text-indigo-200\">{status}</span>\r\n                  <span className=\"text-sm font-medium text-indigo-700 dark:text-indigo-200\">{progress}%</span>\r\n                </div>\r\n                <div className=\"w-full bg-indigo-200 dark:bg-indigo-700 rounded-full h-2\">\r\n                  <div\r\n                    className=\"bg-indigo-600 h-2 rounded-full transition-all duration-300 ease-in-out\"\r\n                    style={{ width: `${progress}%` }}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {/* Resultado */}\r\n            {result && (\r\n              <div className=\"mt-8 bg-white dark:bg-gray-900/50 shadow-lg rounded-xl p-6\">\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                  <div>\r\n                    <h3 className=\"text-xl font-medium text-gray-900 dark:text-white flex items-center\">\r\n                      <CheckCircleIcon className=\"h-6 w-6 text-green-500 mr-2\" />\r\n                      {result.title}\r\n                    </h3>\r\n                    <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\r\n                      Transcrição concluída com sucesso\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    onClick={copyToClipboard}\r\n                    className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-indigo-700 dark:text-indigo-200 bg-indigo-100 dark:bg-indigo-900 hover:bg-indigo-200 dark:hover:bg-indigo-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out\"\r\n                  >\r\n                    <DocumentDuplicateIcon className=\"h-4 w-4 mr-2\" />\r\n                    Copiar\r\n                  </button>\r\n                </div>\r\n                <div className=\"prose prose-indigo max-w-none max-h-96 overflow-y-auto dark:prose-invert bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4\">\r\n                  <pre className=\"whitespace-pre-wrap text-gray-900 dark:text-gray-100 text-sm\">{result.content}</pre>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewTranscription;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}